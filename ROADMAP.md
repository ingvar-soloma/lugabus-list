# üó∫Ô∏è LugaBus.ua ‚Äî –¢—Ä–µ–∫–µ—Ä –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—î–∫—Ç—É (v2.0)

---

### üèóÔ∏è –§–∞–∑–∞ 0: –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Foundation)

- [x] –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Monorepo (Backend/Frontend)
- [x] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ESLint, Prettier, Husky
- [x] Docker: Dockerfile –¥–ª—è Node.js (multi-stage)
- [x] Docker: docker-compose.yml (App + Postgres + Redis)
- [x] Backend: Express + TypeScript Setup
- [x] Backend: Clean Architecture (Controllers, Services, Repos)
- [x] Backend: Logger (Winston/Pino)
- [x] Backend: Global Error Middleware

---

### üóÑÔ∏è –§–∞–∑–∞ 1: –†–æ–∑—à–∏—Ä–µ–Ω–∞ Data-—Å—Ö–µ–º–∞ & Core

- [ ] DB: –û–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ Prisma (Person, Revision, User, Vote, Tag, Fundraising)
- [ ] DB: –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ `pg_trgm` —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –¥–ª—è Prisma (–ø–æ—à—É–∫)
- [ ] Core: –õ–æ–≥—ñ–∫–∞ Event Sourcing Lite (–†–µ–≤—ñ–∑—ñ—ó) –∑ –ø–æ–ª—è–º–∏ –¥–ª—è —Ü–∏—Ç–∞—Ç —Ç–∞ –ª—ñ–Ω–∫—ñ–≤
- [ ] Core: –ú–µ—Ö–∞–Ω—ñ–∑–º –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ä–µ–≤—ñ–∑—ñ—ó (Snapshot update)
- [ ] API: GET /persons/:id (–∞–∫—Ç—É–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω)
- [ ] API: GET /persons/:id/history (—ñ—Å—Ç–æ—Ä—ñ—è —Ä–µ–≤—ñ–∑—ñ–π)
- [ ] **AI-Logic: –ú–µ—Ö–∞–Ω—ñ–∑–º –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å (AI-First)**
  - [ ] –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∞–ø—Ä—É–≤—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ AI-—Å–∫–æ—Ä–∏–Ω–≥—É (>85 –±–∞–ª—ñ–≤)
  - [ ] –†–µ–∂–∏–º —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è (AI vs Moderator) –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä–µ–º –ø—Ä–∏—á–∏–Ω–∏
- [ ] Evidence: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–æ–∫–∞–∑—ñ–≤ (MEDIA, LINK, VOTE) —Ç–∞ –ø–æ–ª—è—Ä–Ω–æ—Å—Ç—ñ (SUPPORT/REFUTE)
- [ ] Storage: S3 —Å—É–º—ñ—Å–Ω–µ —Å—Ö–æ–≤–∏—â–µ + –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö (Sanitization/Sharp)

---

### üïµÔ∏è –§–∞–∑–∞ 2: Privacy, Security & Viral

- [ ] **Auth: HMAC Pipeline** (–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è `pHash` —á–µ—Ä–µ–∑ Global Pepper)
- [ ] **Auth: Monthly Privacy Layer** (–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è `mHash` –∑ —Ä–æ—Ç–∞—Ü—ñ—î—é —Å–æ–ª—ñ —â–æ–º—ñ—Å—è—Ü—è)
- [ ] Auth: –í—Ö—ñ–¥ —á–µ—Ä–µ–∑ Telegram Widget (Hash validation)
- [ ] Security: –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å–µ—Å—ñ–π –±–µ–∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è raw Telegram ID
- [ ] **Anti-Abuse: Shadow Ban Logic** (–ü—Ä–∏—Ö–æ–≤–∞–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–ª—è –Ω–∏–∑—å–∫–æ—ó —Ä–µ–ø—É—Ç–∞—Ü—ñ—ó)
- [ ] **Anti-Abuse: Progressive Tracking** (–õ–æ–≥—É–≤–∞–Ω–Ω—è IP –ª–∏—à–µ –ø—Ä–∏ –ø–æ—Ä—É—à–µ–Ω–Ω—è—Ö)
- [ ] **Anti-Abuse: Shadow Ban Logic** (–ü—Ä–∏—Ö–æ–≤–∞–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–ª—è –Ω–∏–∑—å–∫–æ–≥–æ —Ä–µ–ø—É—Ç–∞—Ü—ñ–π–Ω–æ–≥–æ —Å–∫–æ—Ä—É)
- [ ] **Anti-Abuse: Progressive Tracking** (–õ–æ–≥—É–≤–∞–Ω–Ω—è IP –ª–∏—à–µ –ø—Ä–∏ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—ñ –ø–æ—Ä–æ–≥—É –ø–æ—Ä—É—à–µ–Ω—å)
- [ ] Anti-Abuse: Redis Rate Limiter (–ª—ñ–º—ñ—Ç–∏ –Ω–∞ –ø—Ä–∞–≤–∫–∏/—Ö–≤)
- [ ] **Viral: –ú–æ–¥—É–ª—å "–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è"** (Priority)
  - [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è OG-–∑–æ–±—Ä–∞–∂–µ–Ω—å (–∫–∞—Ä—Ç–æ–∫) –¥–ª—è —Å–æ—Ü–º–µ—Ä–µ–∂ –∑ –¥–æ—Å—å—î
  - [ ] Deep-links –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–≤—ñ–∑—ñ–π –∞–±–æ "—Ñ–∞–∫—Ç—ñ–≤ –ø–µ—Ä–µ–≤–∑—É–≤–∞–Ω–Ω—è"
- [ ] Crypto: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≥–∞–º–∞–Ω—Ü—è –¥–ª—è –¥–æ–Ω–∞—Ç—ñ–≤ (Solana/Ethereum)

---

### üß© –§–∞–∑–∞ 2.5: Data Ingestion & Search

- [ ] Scraper: –ü–∞—Ä—Å–µ—Ä rada.gov.ua (–≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è)
- [ ] **Media Scraper: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ Telegram/Facebook**
  - [ ] –ü–æ—à—É–∫ —Ü–∏—Ç–∞—Ç –∑–∞ –∫–ª—é—á–æ–≤–∏–º–∏ —Å–ª–æ–≤–∞–º–∏
  - [ ] –ê—Ä—Ö—ñ–≤—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤ (—Å–∫—Ä—ñ–Ω—à–æ—Ç–∏) –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—é
- [ ] Scraper: –ü–∞—Ä—Å–µ—Ä –ù–ê–ó–ö (–¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—ó)
- [ ] Search: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è MeiliSearch –∞–±–æ Postgres FTS
- [ ] Search: –Ü–Ω–¥–µ–∫—Å–∞—Ü—ñ—è —Å—É—Ç–Ω–æ—Å—Ç–µ–π Person —Ç–∞ Tags

---

### ‚öñÔ∏è –§–∞–∑–∞ 3: AI-–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –†–µ–π—Ç–∏–Ω–≥–∏

- [ ] AI Service: –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Gemini/OpenAI API
- [ ] AI Logic: –ü—Ä–æ–º–ø—Ç –¥–ª—è Fact-Checking (–∞–Ω–∞–ª—ñ–∑ –¥–æ–∫–∞–∑—ñ–≤)
- [ ] AI Logic: RAG pipeline (Vector DB) –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –∑–∞–∫–æ–Ω–æ–ø—Ä–æ—î–∫—Ç—ñ–≤
- [ ] **Logic: –î–µ—Ç–µ–∫—Ç–æ—Ä "–ü–µ—Ä–µ–≤–∑—É–≤–∞–Ω–Ω—è" (Consistency Tracker)**
  - [ ] –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∞—Ä—Ö—ñ–≤–Ω–∏—Ö —Ü–∏—Ç–∞—Ç –∑ –ø–æ—Ç–æ—á–Ω–∏–º–∏ –ø–æ–∑–∏—Ü—ñ—è–º–∏
  - [ ] –ú–∞—Ä–∫–µ—Ä "–í–∏–∑–Ω–∞–≤ –ø–æ–º–∏–ª–∫—É" vs "–¢–∏—Ö–µ –ø–µ—Ä–µ–≤–∑—É–≤–∞–Ω–Ω—è"
- [ ] **Graph: –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–∑–∏—Ü—ñ–π —Ç–∞ –∑–≤'—è–∑–∫—ñ–≤**
  - [ ] –¢–∞–π–º–ª–∞–π–Ω –∑–º—ñ–Ω–∏ –ø–æ–≥–ª—è–¥—ñ–≤ –æ—Å–æ–±–∏ (Timeline View)
  - [ ] –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü—ñ—è (—Ö—Ç–æ –∑–∞ –∫–∏–º –ø–æ–≤—Ç–æ—Ä—é—î —Ç–µ–∑–∏)
- [ ] Scoring: –§–æ—Ä–º—É–ª–∞ User Reputation (–≤–ø–ª–∏–≤ –Ω–∞ –≤–∞–≥—É –≥–æ–ª–æ—Å—É)
- [ ] Scoring: Revision Score (Reputation + AI Score)
- [ ] Scoring: Influence Score (–ú–µ—Ç—Ä–∏–∫–∞ "–í–ø–ª–∏–≤—É" –æ—Å–æ–±–∏)

---

### üì¢ –§–∞–∑–∞ 4: –ü—É–±–ª—ñ—á–Ω—ñ—Å—Ç—å —Ç–∞ –ë–µ–∑—Å–º–µ—Ä—Ç—è. –í–æ–ª–æ–Ω—Ç–µ—Ä–∏, –ó–±–æ—Ä–∏ —Ç–∞ –ü—É–±–ª—ñ—á–Ω—ñ—Å—Ç—å

- [ ] **Module: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑–±–æ—Ä—ñ–≤**
  - [ ] –¢—Ä–µ–∫—ñ–Ω–≥ –±–∞–Ω–æ–∫ (Monobank API/Scraping)
  - [ ] –°–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è –∑–≤—ñ—Ç–Ω—ñ—Å—Ç—å/—Å—É–º–∞ –∑–±–æ—Ä—É
- [ ] Bot: Telegram –±–æ—Ç –¥–ª—è —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø—Ä–æ –∑–º—ñ–Ω–∏
- [ ] Queue: BullMQ –¥–ª—è –≤—ñ–¥–∫–ª–∞–¥–µ–Ω–∏—Ö –∑–∞–¥–∞—á (social-publish)
- [ ] Archiving: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è Wayback Machine API
- [ ] IPFS: –ï–∫—Å–ø–æ—Ä—Ç –∑–ª—ñ–ø–∫—ñ–≤ —Å—Ç–∞—Ç–µ–π –¥–ª—è –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
- [ ] Bot: –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ "—Ä—ñ–∑–∫—ñ –∑–º—ñ–Ω–∏ –ø–æ–∑–∏—Ü—ñ–π" –≤—ñ–¥–æ–º–∏—Ö –æ—Å—ñ–±

---

### üöÄ –§–∞–∑–∞ 5: Frontend & User Experience

- [ ] UI: –ê–¥–∞–ø—Ç–∏–≤ Mobile First / PWA
- [ ] Page: –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è "–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ" –¥–≤–æ—Ö –æ—Å—ñ–±
- [ ] Page: –ü—Ä–æ—Ñ—ñ–ª—å –æ—Å–æ–±–∏ (Timeline –∑–º—ñ–Ω, –¢–µ–≥–∏, –ì—Ä–∞—Ñ—ñ–∫–∏)
- [ ] Page: Comparison Mode & Graph View (–∑–≤'—è–∑–∫–∏)
- [ ] UI: –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∞–ø–µ–ª—è—Ü—ñ—ó –Ω–∞ —Ä—ñ—à–µ–Ω–Ω—è AI
- [ ] Extension: –ë—Ä–∞—É–∑–µ—Ä–Ω–∏–π –ø–ª–∞–≥—ñ–Ω (LugaBus Detector)

---

### üéÆ –§–∞–∑–∞ 6: –ì–µ–π–º—ñ—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –°–ø—ñ–ª—å–Ω–æ—Ç–∞

- [ ] System: –ê—á—ñ–≤–∫–∏ –∑–∞ —è–∫—ñ—Å–Ω–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è (–ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—ñ–≤)
- [ ] System: –ü—É–±–ª—ñ—á–Ω—ñ —Ä–µ–π—Ç–∏–Ω–≥–∏ (–∞–Ω–æ–Ω—ñ–º–Ω—ñ, –∑–∞ `pHash`)
- [ ] Process: Human-in-the-loop (–ê–ø–µ–ª—è—Ü—ñ—ó –Ω–∞ AI-—Ä—ñ—à–µ–Ω–Ω—è)
- [ ] **Legal: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–≤–µ—Ä–Ω–µ–Ω—å**
  - [ ] –ê–≤—Ç–æ-–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —à–∞–±–ª–æ–Ω—ñ–≤ –∑–∞—è–≤ –¥–æ –ù–ê–ó–ö/–î–ë–† –Ω–∞ –æ—Å–Ω–æ–≤—ñ –¥–æ–∫–∞–∑—ñ–≤
