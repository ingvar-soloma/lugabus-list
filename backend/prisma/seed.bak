import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
  console.log('Seeding data...');

  const figures = [
    {
      name: 'Іван Боднар',
      role: 'Місцевий депутат',
      statement: 'Співпраця з окупаційною владою Луганщини.',
      rating: -50,
      status: 'APPROVED' as any,
    },
    {
      name: 'Олена Коваль',
      role: 'Вчителька історії',
      statement: 'Пропаганда руського миру в школах міста.',
      rating: -30,
      status: 'APPROVED' as any,
    },
    {
      name: 'Андрій Мельник',
      role: 'Волонтер',
      statement: 'Допомога ЗСУ та евакуація цивільних.',
      rating: 80,
      status: 'APPROVED' as any,
    }
  ];

  for (const figure of figures) {
    await prisma.publicFigure.upsert({
      where: { id: figure.name }, // Use name as a dummy ID key or just create
      update: {},
      create: {
        ...figure,
        id: undefined // Let Prisma generate ID
      }
    });
  }

  console.log('Seeding completed!');
}

main()
  .catch((e) => {
    console.error(e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
